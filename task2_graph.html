<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 750px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#f39c12", "id": "133", "label": "CreditAssociations", "shape": "dot", "title": "{\u0027content\u0027: \u0027\u0027, \u0027name\u0027: \u0027CreditAssociations\u0027, \u0027path\u0027: \u0027superadmin-portal/CreditAssociations\u0027, \u0027embedding\u0027: []}"}, {"color": "#f39c12", "id": "136", "label": "FeesAndInvoice", "shape": "dot", "title": "{\u0027content\u0027: \u0027H1: Fees and Invoice Tab\\n\\n\\n\u2728 Overview\\n\\nPurpose:\\nThe \"Fees and Invoice\" tab is designed to provide superadmins with a comprehensive interface for managing, configuring, and tracking all fees, charges, and invoices associated with a specific Credit Association (Sacco). This feature streamlines financial oversight, ensures transparency, and supports efficient fee management and invoicing processes.\\n\\nScope:\\nThis feature is available to superadmin users within the Superadmin Portal and applies to all registered Credit Associations (Saccos). It covers fee configuration, invoice generation, payment tracking, and integration with accounting modules.\\n\\n---\\n\\n\ud83e\udde9 Feature Details\\n\\nL1: **Fee Configuration:** Set up, update, and manage various fee types (e.g., subscription, service, transaction, provider convenience fees).\\nL1: **Invoice Management:** Generate, view, and archive invoices; monitor invoice history and payment statuses.\\nL1: **Payment Tracking:** Track outstanding balances, paid/unpaid invoices, and apply filters for detailed financial reporting.\\nL1: **Version Control:** Maintain and select different fee configuration versions for historical and future applicability.\\nL1: **Integration:** Seamless connection with accounting and payment modules for accurate financial reconciliation.\\n\\n---\\n\\n\ud83d\udcd0 Functional Description\\n\\nL1: **Invoice List:**\\nDisplays all generated invoices for the selected Credit Association, including details such as invoice date, ID, name, status (paid/unpaid), duration, amount, discount, and creator information. Invoices can be archived for record-keeping.\\n\\nL1: **Fee Configuration:**\\nAllows superadmins to enable/disable fees, set overdraft limits, grace periods, and configure detailed fee structures (subscription, user, service, quick loan, message charges, provider convenience fees). Supports versioning and effective date ranges for each configuration.\\n\\nL1: **Invoice Generation:**\\nSuperadmins can generate new invoices by specifying the invoice name, selecting a fee configuration version, setting the transaction fee status, and defining the applicable date range. The system calculates and displays all relevant fees, product codes, prices, and transaction counts.\\n\\nL1: **Detailed Fee Breakdown:**\\nFor each invoice, a breakdown of all applicable fees is shown, including service and provider fees, message charges, and subscription fees, along with transaction counts and total amounts.\\n\\n---\\n\\n\ud83d\udd04 Workflow / User Journey\\n\\n1. Accessing the Tab:\\nSuperadmin navigates to the \"Fees and Invoice\" tab for a specific Credit Association.\\n\\n2. Viewing Invoices:\\nThe invoice list is displayed, showing all historical and current invoices with their statuses and details.\\n\\n3. Configuring Fees:\\nBy clicking \"Fees Config,\" the superadmin can view and edit fee structures, set limits, and manage provider-specific fees. Changes can be versioned and scheduled for future applicability.\\n\\n4. Generating Invoices:\\nThe superadmin clicks \"Generate Invoice,\" fills in the required details, applies filters (e.g., date range, fee status), and reviews the calculated fees before saving or downloading the invoice.\\n\\n5. Archiving Invoices:\\nInvoices can be archived for organizational or compliance purposes.\\n\\n!\\n\\n\u003cbr/\\n\\n!\\n\\n---\\n\\n\u26a0\ufe0f Validation / Constraints / Configurations\\n\\nL1: **Required Fields:**\\nInvoice name, configuration version, transaction fee status, and date range are mandatory for invoice generation.\\nL1: **Fee Limits:**\\nMin/max transaction amounts and applicable fees must adhere to system-defined constraints (e.g., max amount \u2264 999,999,999,999.99).\\nL1: **Version Control:**\\nOnly one fee configuration version can be active for a given period; overlapping date ranges are not permitted.\\nL1: **Provider Fees:**\\nProvider convenience fees must be configured per provider and transaction type (e.g., collection/disbursement).\\nL1: **Data Integrity:**\\nAll changes to fee configurations are logged and versioned for auditability.\\n\\n!\\n\\n\\n!\\n\\n---\\n\\n\u2705 Acceptance Criteria\\n\\nL1: Superadmin can view, generate, and archive invoices for any Credit Association.\\nL1: Fee configurations can be created, updated, and versioned with effective date ranges.\\nL1: The system enforces all validation rules for required fields and fee limits.\\nL1: The invoice list accurately reflects all historical and current invoices, with correct statuses and amounts.\\nL1: Detailed fee breakdowns are displayed for each invoice, including all configured fee types.\\nL1: Integration with accounting and payment modules is functional, ensuring accurate financial reporting.\\nL1: All user actions (e.g., fee updates, invoice generation) are logged for audit purposes.\u0027, \u0027ner_entities\u0027: [\u0027Credit Association\u0027, \u0027Invoice Tab\\n\\n\\n\u2728 Overview\u0027, \u0027Superadmin\u0027, \u0027max\u0027, \u0027Validation / Constraints / Configurations\u0027, \u0027Saccos\u0027, \u00274\u0027, \u0027Tab\u0027, \u00273\u0027, \u0027Only one\u0027, \u0027Invoice Management:** Generate\u0027, \u0027Generate Invoice\u0027, \u00275\u0027, \u0027Credit Associations\u0027, \u0027\ud83d\udd04 Workflow / User Journey\\n\\n1\u0027, \u0027Superadmin Portal\u0027, \u0027Acceptance Criteria\u0027, \u00272\u0027, \u0027\ud83e\udde9 Feature Details\u0027], \u0027name\u0027: \u0027FeesAndInvoice\u0027, \u0027path\u0027: \u0027superadmin-portal/CreditAssociations/FeesAndInvoice.md\u0027, \u0027embedding\u0027: [-0.052911426872015, -0.005903393961489201, -0.11464986950159073, 0.009975061751902103, 0.04775179177522659, -0.02011905051767826, -0.0008386431145481765, 0.043187763541936874, 3.147359166177921e-05, 0.0029290919192135334, 0.021596655249595642, -0.06079397350549698, 0.007922660559415817, -0.038642801344394684, -0.09477324783802032, -0.07591769099235535, 0.03622486814856529, -0.08420952409505844, -0.023402642458677292, 0.0022069166880100965, 0.07257817685604095, 0.011107159778475761, -0.04744356498122215, 0.0025894860737025738, 0.03506487235426903, -0.022216742858290672, -0.08242876827716827, 0.05188492313027382, -0.036460813134908676, -0.05759752541780472, 0.015011354349553585, 0.011301652528345585, 0.0872701108455658, -0.007074935827404261, 0.02703416720032692, 0.0017237429274246097, 0.03378715738654137, 0.01983799785375595, -0.029216377064585686, -0.059434790164232254, 0.01248845737427473, -0.030151091516017914, -0.02235126867890358, -0.06809081882238388, -0.017531080171465874, -0.027128612622618675, -0.04140343517065048, 0.04435384273529053, -0.05888344347476959, 0.12972065806388855, 0.022132836282253265, -0.060713253915309906, -0.010396627709269524, 0.03475825488567352, -0.012061613611876965, 0.044243935495615005, -0.029913557693362236, -0.011434396728873253, -0.009892917238175869, -0.022895827889442444, -0.11178800463676453, 0.03625187650322914, -0.056650687009096146, 0.03802116587758064, -0.03835191950201988, -0.007568607572466135, 0.03457241505384445, 0.026402175426483154, -0.07192542403936386, -0.02567216195166111, -0.04117411747574806, 0.009365400299429893, -0.03016650676727295, 0.03259759396314621, 0.03925122693181038, 0.003281292738392949, 0.002672921633347869, 0.011210201308131218, -0.001696218503639102, -0.08479727804660797, 0.0614456906914711, -0.004901799373328686, -0.027835432440042496, 0.02128080651164055, -0.02337799407541752, -0.03682378679513931, 0.0746811181306839, -0.02266593836247921, 0.06187601014971733, -0.034046418964862823, 0.12814496457576752, 0.004750662483274937, 0.025990810245275497, -0.09582465142011642, -0.013353701680898666, 0.013334454037249088, -0.0007766193011775613, 0.03441832214593887, 0.005406814627349377, -0.024421967566013336, 0.054372645914554596, 0.03600022941827774, 0.023876698687672615, -0.010665842331945896, 0.06874595582485199, -0.004960201680660248, 0.10805093497037888, 0.07446470856666565, 0.06110135093331337, 0.0015467162011191249, 0.0255416352301836, -0.003965330310165882, 0.001417118706740439, -0.15706412494182587, -0.011346441693603992, 0.11021739989519119, -0.007797171361744404, -0.002344803884625435, 0.06396932154893875, 0.002722202567383647, 0.023467684164643288, 0.05312909558415413, -0.006345951464027166, -0.07719352841377258, 0.05723220109939575, 0.029170125722885132, -0.0711262971162796, 2.9619794411333063e-33, 0.0014081723056733608, -0.01606757380068302, -0.06565447896718979, -0.04165356606245041, -0.004481487907469273, 0.05374981462955475, 0.013994881883263588, 0.08988825231790543, -0.03140018880367279, 0.02503054589033127, -0.011507529765367508, 0.04750818759202957, -0.06563429534435272, -0.035465218126773834, -0.06460868567228317, -0.004228062927722931, -0.006903705652803183, 0.03739355131983757, 0.06863350421190262, 0.023181073367595673, -0.06485973298549652, -0.039590511471033096, 0.06547090411186218, 0.022577350959181786, 0.06052810326218605, 0.07117900252342224, 0.0846056342124939, -0.02413131855428219, 0.0866253674030304, 0.013904317282140255, 0.024155912920832634, -0.023161932826042175, -0.025441046804189682, 0.062242116779088974, -0.058858197182416916, 0.05067553371191025, -0.0650026798248291, -0.05631345883011818, 0.03639020025730133, -0.03289779648184776, -0.016467442736029625, 0.059877827763557434, -0.08753610402345657, -0.08261577785015106, -0.15937672555446625, 0.0001334421685896814, 0.1027814969420433, 0.01603592373430729, 0.10575270652770996, 0.07388100773096085, -0.052703216671943665, -0.04260775074362755, -0.013601146638393402, 0.0018798901000991464, -0.007463133428245783, 0.016288243234157562, 0.06226139888167381, 0.005896199494600296, -0.021836334839463234, -0.055616121739149094, -0.012116028927266598, -0.07087214291095734, -0.05151941627264023, 0.041887301951646805, -0.06321903318166733, -0.03312041610479355, -0.04852910339832306, -0.022280436009168625, 0.037133242934942245, -0.027438275516033173, -0.11247427761554718, -0.02987954579293728, 0.0625099316239357, 0.030819009989500046, -0.015068490989506245, 0.04110369458794594, 0.011105981655418873, -0.023024234920740128, 0.01564483903348446, 0.01346699520945549, -0.09647653251886368, 0.005142929032444954, 0.050889067351818085, 0.04842964559793472, -0.016971779987215996, 0.045747317373752594, 0.08132628351449966, -0.040499839931726456, -0.07204179465770721, -0.11906405538320541, 0.008034355007112026, 0.013569780625402927, 0.039616554975509644, -0.013823587447404861, 0.03238631412386894, -4.495693940425178e-33, -0.05239841341972351, 0.019543208181858063, 0.007826863788068295, -0.010534183122217655, -0.03257884085178375, 0.08229821175336838, -0.02386453188955784, -0.0350978747010231, 0.05158700793981552, -0.014075616374611855, -0.0015849871560931206, 0.015352771617472172, -0.09917587041854858, -0.04912957549095154, 0.08923104405403137, -0.057051364332437515, -0.04174301400780678, -0.05166202038526535, 0.004105830565094948, -0.005966397933661938, -0.014902499504387379, 0.08397164940834045, 0.03494510427117348, 0.04287717491388321, -0.06317663192749023, 0.002273057820275426, 0.01620638556778431, 0.027651872485876083, 0.06374410539865494, 0.03999215364456177, -0.003474911442026496, -0.04617125540971756, -0.014145728200674057, 0.011251039803028107, -0.04442320019006729, -0.07448699325323105, 0.0512225404381752, 0.06757520139217377, 0.02377180941402912, 0.07223387807607651, 0.042523134499788284, 0.0008606819319538772, 0.015459817834198475, -0.0077731856144964695, -0.011062735691666603, -0.05638774856925011, 0.002202862873673439, -0.06763452291488647, -0.032476115971803665, -0.015268513932824135, -0.14964526891708374, -0.08813804388046265, -0.043987687677145004, 0.01871790736913681, -0.06322043389081955, 0.06098819524049759, 0.08411154896020889, 0.07381892949342728, -0.038314901292324066, -0.08104898780584335, 0.003846208332106471, 0.08296597748994827, -0.0190691240131855, 0.06858158856630325, 0.012484309263527393, 0.06826917827129364, 0.05329564958810806, -0.08599389344453812, -0.00937787164002657, 0.027063922956585884, -0.0007936437032185495, -0.022426389157772064, -0.019642654806375504, -0.05836401507258415, 0.021610423922538757, 0.003322508418932557, 0.016793910413980484, -0.1131308451294899, -0.03193775191903114, -0.03296910971403122, 0.0037025283090770245, 0.024240344762802124, -0.0026477316860109568, 0.0006207286496646702, -0.060812294483184814, -0.0730491504073143, 0.015580912120640278, 0.05284591019153595, 0.007230396382510662, 0.041918061673641205, -0.12581409513950348, 0.021843209862709045, -0.0042283860966563225, 0.061066899448633194, -0.07536022365093231, -4.6580964863096597e-08, -0.07405737787485123, -0.009925699792802334, -0.036709997802972794, 0.07692519575357437, 0.029028670862317085, -0.03945290669798851, -0.03929436579346657, 0.0980752557516098, -0.02911451645195484, 0.06119576469063759, 0.05504735931754112, -0.014631224796175957, -0.04160512611269951, -0.0976642519235611, 0.05035169795155525, -0.0243233535438776, -0.03469197452068329, 0.052152689546346664, -0.061742592602968216, 0.0027501562144607306, -0.01728576235473156, 0.004241823684424162, -0.0560416616499424, -0.012860260903835297, -0.01005999930202961, -0.06979542970657349, 0.009079555980861187, 0.11909552663564682, 0.06332049518823624, -0.052384305745363235, -0.01917376182973385, 0.07140950858592987, 0.10657565295696259, -0.045971181243658066, 0.017681872472167015, 0.02251197025179863, -0.032310836017131805, 0.013179528526961803, 0.00043161751818843186, 0.10377553105354309, 0.08459025621414185, 0.039834097027778625, -0.04309707507491112, -0.017835531383752823, 0.03779042884707451, 0.039369501173496246, -0.04748833179473877, -0.04862339049577713, 0.06133555993437767, -0.025600379332900047, -0.015464747324585915, 0.035906702280044556, 0.059079546481370926, 0.07436930388212204, 0.0036567519418895245, 0.03291233628988266, 0.009903079830110073, 0.028074929490685463, 0.09320542216300964, 0.05756489187479019, 0.11548660695552826, -0.008922269567847252, 0.009305556304752827, -0.021679405122995377]}"}, {"color": "#f39c12", "id": "220", "label": "loan-management", "shape": "dot", "title": "{\u0027content\u0027: \u0027\u0027, \u0027name\u0027: \u0027loan-management\u0027, \u0027path\u0027: \u0027admin-portal/accounts/loan-management\u0027, \u0027embedding\u0027: []}"}, {"color": "#f39c12", "id": "230", "label": "BusinessAccount", "shape": "dot", "title": "{\u0027content\u0027: \u0027\u0027, \u0027name\u0027: \u0027BusinessAccount\u0027, \u0027path\u0027: \u0027admin-portal/BusinessAccount\u0027, \u0027embedding\u0027: []}"}]);
                  edges = new vis.DataSet([]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"font": {"size": 18}}, "edges": {"arrows": {"to": {"enabled": true}}, "smooth": {"type": "cubicBezier", "forceDirection": "horizontal", "roundness": 0.4}}, "physics": {"barnesHut": {"gravitationalConstant": -12000, "centralGravity": 0.3, "springLength": 110}, "minVelocity": 0.75}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>